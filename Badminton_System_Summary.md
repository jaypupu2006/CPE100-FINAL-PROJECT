# ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡πä‡∏ß‡∏ô‡πÅ‡∏ö‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡∏ô (Badminton Group Payment System)

> ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î  
> (main.c, menu1.c, menu2.c, menu2_impl.c, menu3.c, delay.c, *.h, ‡πÅ‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)

---

## 1. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

```text
main.c
delay.c
delay.h          (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏à‡∏£‡∏¥‡∏á)

menu1.c
menu1.h

menu2.c
menu2.h
menu2_impl.c

menu3.c
menu3.h

member.txt       (‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å)
OSpayment.txt    (‡πÄ‡∏Å‡πá‡∏ö‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢)
config.txt       (‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤‡∏•‡∏π‡∏Å‡πÅ‡∏ö‡∏î/‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô)

output/
  ‚îú‚îÄ <DATE>.‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î.txt
  ‚îú‚îÄ <DATE>.‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏ö‡∏¢‡πà‡∏≠.txt
  ‚îî‚îÄ <MM-YYYY>.‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô.txt
```

---

## 2. ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

1. ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà `main.c`  
   - ‡πÅ‡∏™‡∏î‡∏á **‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å**  
   - ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ  
   - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏¢‡πà‡∏≠‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°

2. ‡πÅ‡∏ö‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô 3 ‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å

   - **‡πÄ‡∏°‡∏ô‡∏π 1: ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å** ‚Äì `menu1.c` / `menu1.h`  
     - ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà  
     - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å  
     - ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î  

   - **‡πÄ‡∏°‡∏ô‡∏π 2: ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡πä‡∏ß‡∏ô / ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô** ‚Äì `menu2.c` + `menu2_impl.c` + `menu2.h`  
     - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà  
     - ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ö‡∏¥‡∏Å‡∏•‡∏π‡∏Å  
     - ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô + ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡πà‡∏≤‡∏¢  
     - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î  
     - ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠  
     - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏•‡∏π‡∏Å‡πÅ‡∏ö‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏≤‡∏°  

   - **‡πÄ‡∏°‡∏ô‡∏π 3: ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** ‚Äì `menu3.c` / `menu3.h`  
     - ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô (‡πÅ‡∏ö‡∏ö‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ / ‡πÅ‡∏ö‡∏ö‡∏¢‡πà‡∏≠)  
     - ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô  

3. ‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ö‡∏ô ‡πÜ ‡∏à‡∏∞‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `0` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ ‚Äú‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‚Äù  
   - ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏¢‡πà‡∏≠‡∏¢ ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤  
   - ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å ‚Üí ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°  

---

## 3. ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå

### 3.1 `main.c` ‚Äì ‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å

- `main()`  
  - ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‡πÄ‡∏ä‡πà‡∏ô

    ```c
    printf("Badminton Group Payment System\n");
    printf("‡∏Å‡∏£‡∏≠‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ\n");
    printf("1.‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å\n");
    printf("2.‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡πä‡∏ß‡∏ô\n");
    printf("3.‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\n");
    printf("0 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°\n");
    ```

  - ‡∏≠‡πà‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `menu`  
  - ‡∏ñ‡πâ‡∏≤ `1` ‚Üí `menu1_choose()`  
  - ‡∏ñ‡πâ‡∏≤ `2` ‚Üí `menu2_choose()`  
  - ‡∏ñ‡πâ‡∏≤ `3` ‚Üí `menu3_choose()`  
  - ‡∏ñ‡πâ‡∏≤ `0` ‚Üí `break;` ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏õ ‡∏à‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°  
  - ‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° ‚Äú‡∏Å‡∏£‡∏≠‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡πÇ‡∏õ‡∏£‡∏î‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‚Äù

---

### 3.2 `delay.c` / `delay.h` ‚Äì ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤

- ‡∏°‡∏µ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô

  ```c
  void delay(int number_of_seconds) {
      int milli_seconds = 1000 * number_of_seconds;
      clock_t start_time = clock();
      while (clock() < start_time + milli_seconds);
  }
  ```

- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡πÄ‡∏û‡∏∑‡πà‡∏≠:
  - ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ä‡πâ‡∏≤‡∏•‡∏á
  - ‡∏ó‡∏≥ effect ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ‡∏Ø‡∏•‡∏Ø  

(‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏ö ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô `main.c` ‡πÅ‡∏ï‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ include ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ)

---

### 3.3 `menu1.c` / `menu1.h` ‚Äì ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å

‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:

- `input_file()`  
  - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏õ‡∏¥‡∏î `member.txt` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Å‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà  

- `register_member()`  
  - ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå `member.txt` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏ö `last_id`  
  - ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ:
    - ‡∏ä‡∏∑‡πà‡∏≠‚Äì‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• (`fullname`)  
    - ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (`nickname`)  
    - ‡πÄ‡∏û‡∏® (`gender`)  
  - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£ `created_at` ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö  
  - ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà‡∏•‡∏á‡πÑ‡∏ü‡∏•‡πå:

    ```text
    id|fullname|nickname|gender|created_at
    ```

- `search_member()`  
  - ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô
    - ‡∏Ñ‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å  
    - ‡∏Ñ‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô  
    - ‡∏Ñ‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠‚Äì‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•  
    - `0` = ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö  
  - ‡∏£‡∏±‡∏ö keyword ‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ  
  - ‡πÄ‡∏õ‡∏¥‡∏î `member.txt` ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏ô‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î  
  - ‡πÉ‡∏ä‡πâ `sscanf(...)` ‡πÅ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö keyword  
  - ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

- `show_all_members()`  
  - ‡πÄ‡∏õ‡∏¥‡∏î `member.txt`  
  - ‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î  
  - ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏ß‡∏°

- `menu1_choose()`  
  - ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÉ‡∏ä‡πâ `while(1)` + `break`)  
  - ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:
    - `1` ‚Üí `register_member()`  
    - `2` ‚Üí `search_member()`  
    - `3` ‚Üí `show_all_members()`  
    - `0` ‚Üí ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ `main()`  

> ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢ action ‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö (‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö)  
> ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏≠‡∏≤ `break;` ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç 1/2/3 ‡∏≠‡∏≠‡∏Å  
> ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ `while(1)` ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏à‡∏ô‡∏Å‡∏î 0

---

### 3.4 `menu2.h` ‚Äì ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞ Prototype

‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏°‡∏µ:

- ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà

  ```c
  #define NAME_MAXLEN 128
  #define NICK_MAXLEN 64
  #define DATE_MAXLEN 16
  #define NOTE_MAXLEN 128
  ```

- `enum SearchBy`  
  ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: `BY_ID`, `BY_NICKNAME`, `BY_FULLNAME`

- `enum PayMethod`  
  ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞: `PAY_NONE`, `PAY_CASH`, `PAY_TRANSFER`, `PAY_OS`

- `struct Member`  
  ‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö `member.txt`

- `struct DailyEntry`  
  ‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå `<DATE>.txt` ‡πÄ‡∏ä‡πà‡∏ô
  - `member_id, fullname, nickname, gender`  
  - `shuttle_qty` (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏π‡∏Å)  
  - `court_fee` (‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô)  
  - `amount_today` (‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ)  
  - `paid_today`, `paid_os`, `method_today`

- `struct OSEntry`  
  ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô `OSpayment.txt` ‡πÄ‡∏ä‡πà‡∏ô
  - `member_id, fullname, nickname, gender`  
  - `date`  
  - `os_amount`  
  - `note`

- `struct Prices`  
  ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏•‡∏π‡∏Å‡πÅ‡∏ö‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô (`shuttle_price`, `court_fee_per_person`)

- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏ô header (‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå):

  ```c
  int open_or_create_daily(const char *daily_path);
  int load_prices(const char *config_path, Prices *out);
  int save_prices(const char *config_path, const Prices *in);

  int search_members(const char *member_path, SearchBy by, const char *key, Member **out_arr, size_t *out_count);
  int search_daily(const char *daily_path, SearchBy by, const char *key, DailyEntry **out_arr, size_t *out_count);
  int search_os(const char *os_path, SearchBy by, const char *key, OSEntry **out_arr, size_t *out_count);

  int upsert_daily_entry(const char *daily_path, const Prices *prices, const Member *m,
                         int add_shuttle_qty, PayMethod method, int pay_today, int pay_os);

  int append_os(const char *os_path, const Member *m, const char *date_ddmmyyyy, int os_amount, const char *note);
  int remove_os_entry(const char *os_path, const OSEntry *entry);

  int summarize_daily(const char *daily_path, int verbose);

  void menu2_choose(void);
  ```

---

### 3.5 `menu2_impl.c` ‚Äì Logic ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡πä‡∏ß‡∏ô/‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô

‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:

- `open_or_create_daily(daily_path)`  
  - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏ü‡∏•‡πå `<DATE>.txt` ‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏¥‡∏î (‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ)  
  - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏´‡∏±‡∏ß‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå  

- `load_prices(config.txt)` ‡πÅ‡∏•‡∏∞ `save_prices(config.txt)`  
  - ‡∏≠‡πà‡∏≤‡∏ô/‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡∏•‡∏π‡∏Å‡πÅ‡∏ö‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô  

- `search_members()` / `search_daily()` / `search_os()`  
  - ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏≤‡∏°‡∏ä‡∏ô‡∏¥‡∏î (‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å, ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô, OS)  
  - ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô struct array (`Member[]`, `DailyEntry[]`, `OSEntry[]`)  
  - ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å  

- `upsert_daily_entry()`  
  - ‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏∏‡∏Å‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå `<DATE>.txt`  
  - ‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ô‡πÄ‡∏î‡∏¥‡∏° (`member_id` ‡πÄ‡∏î‡∏¥‡∏°) ‚Üí ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï  
    - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏π‡∏Å (`shuttle_qty`)  
    - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≠‡∏î (`amount_today`) ‡πÉ‡∏´‡∏°‡πà  
    - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞ (`method_today`, `paid_today`, ‡∏Ø‡∏•‡∏Ø)  
  - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå  

- `append_os()` / `remove_os_entry()`  
  - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡∏•‡∏á `OSpayment.txt`  
  - ‡∏•‡∏ö‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ä‡∏≥‡∏£‡∏∞‡∏´‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß  

- `summarize_daily(daily_path, verbose)`  
  - ‡πÉ‡∏ä‡πâ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå `<DATE>.txt`  
  - ‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏π‡∏Å, ‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏£‡∏ß‡∏°, ‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö, ‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏à‡∏£‡∏¥‡∏á, ‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á ‡∏Ø‡∏•‡∏Ø  
  - ‡∏ñ‡πâ‡∏≤ `verbose=1` ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π 2 ‡πÅ‡∏•‡∏∞‡πÄ‡∏°‡∏ô‡∏π 3)

---

### 3.6 `menu2.c` ‚Äì ‡πÄ‡∏°‡∏ô‡∏π UI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡πä‡∏ß‡∏ô / ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô

‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å ‡πÜ:

1. ‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `DD-MM-YYYY`), ‡∏ñ‡πâ‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå `0` ‡πÉ‡∏´‡πâ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤  
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå `<DATE>.txt` ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `open_or_create_daily()`  
3. ‡πÉ‡∏ä‡πâ `load_prices("config.txt", &prices)` ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß `save_prices()`  
4. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡∏π‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡∏¢‡πà‡∏≠‡∏¢ (while(1)):

   - `1` ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ö‡∏¥‡∏Å‡∏•‡∏π‡∏Å  
     - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ (id / ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô / ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡πá‡∏°)  
     - ‡πÉ‡∏ä‡πâ `search_members()` ‡∏´‡∏≤‡πÉ‡∏ô `member.txt`  
     - ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏û‡∏ö  
     - ‡∏£‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏π‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°  
     - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `upsert_daily_entry()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á `<DATE>.txt`  

   - `2` ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô  
     - ‡πÉ‡∏ä‡πâ `search_daily()` ‡∏´‡∏≤ record ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£  
     - ‡πÅ‡∏™‡∏î‡∏á‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ  
     - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞:
       - ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î ‚Üí `upsert_daily_entry(..., PAY_CASH, ...)`  
       - ‡πÇ‡∏≠‡∏ô ‚Üí `upsert_daily_entry(..., PAY_TRANSFER, ...)`  
       - ‡∏Ñ‡πâ‡∏≤‡∏á ‚Üí `append_os("OSpayment.txt", ...)` + `upsert_daily_entry(..., PAY_OS, ...)`  

   - `3` ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á  
     - ‡πÉ‡∏ä‡πâ `search_os()` ‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å `OSpayment.txt`  
     - ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å record  
     - ‡∏ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß ‚Üí `remove_os_entry()` ‡∏•‡∏ö‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå  

   - `4` ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠  
     - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `summarize_daily(daily_path, 1)`  

   - `5` ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏•‡∏π‡∏Å‡πÅ‡∏ö‡∏î  
     - ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô  
     - ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡∏°‡πà  
     - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á `config.txt`  

   - `6` ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô  
     - ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô  
     - ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà  
     - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á `config.txt`  

   - `0` ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö  
     - `return;` ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ `main()`  

---

### 3.7 `menu3.c` / `menu3.h` ‚Äì ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:

- `file_exists(path)` / `print_file(path)`  
  - helper ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡πá‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏£‡∏∏‡∏õ  

- `summarize_daily_and_write(daily_path, out_path, full)`  
  - ‡∏≠‡πà‡∏≤‡∏ô `<DATE>.txt`  
  - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô `summarize_daily()`  
  - ‡∏ñ‡πâ‡∏≤ `full=1` ‚Üí ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏ö‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô + ‡∏™‡∏£‡∏∏‡∏õ‡∏ó‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå  
  - ‡∏ñ‡πâ‡∏≤ `full=0` ‚Üí ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡∏¢‡πà‡∏≠ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏£‡∏ß‡∏°)  

- `summarize_month_and_write(month_yyyy, out_path)`  
  - ‡∏ß‡∏ô `day = 01..31` ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå `<DD-MM-YYYY>.txt`  
  - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå ‚Üí ‡∏£‡∏ß‡∏ö‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô  
  - ‡∏î‡∏π‡∏¢‡∏≠‡∏î‡∏à‡∏≤‡∏Å `OSpayment.txt` ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏±‡πâ‡∏ô  
  - ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡∏á‡πÉ‡∏ô `output/`  

- `menu3_choose()`  
  - ‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
    - `1` ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô
      - ‡∏ñ‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà `DD-MM-YYYY`  
      - ‡∏ñ‡∏≤‡∏°‡πÇ‡∏´‡∏°‡∏î:
        - `1` ‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏ö‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ (‡πÄ‡∏ï‡πá‡∏°)  
        - `2` ‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏ö‡∏¢‡πà‡∏≠  
      - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô `output/` ‚Üí `print_file()`  
      - ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ:
        - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `summarize_daily()` (‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏à‡∏≠)  
        - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `summarize_daily_and_write()` ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏£‡∏∏‡∏õ  
        - ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠  
    - `2` ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
      - ‡∏ñ‡∏≤‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô/‡∏õ‡∏µ `MM-YYYY`  
      - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‚Üí `print_file()`  
      - ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí `summarize_month_and_write()` ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∂‡∏á `print_file()`  
    - `0` ‚Üí ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ `main()`  

---

## 4. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå .txt

1. `member.txt`

   ```text
   id|fullname|nickname|gender|created_at
   ```

2. `<DATE>.txt` ‡πÄ‡∏ä‡πà‡∏ô `20-11-2025.txt`

   ```text
   member_id|fullname|nickname|gender|shuttle_qty|court_fee|amount_today|paid_today|paid_os|method_today
   ```

3. `OSpayment.txt`

   ```text
   member_id|fullname|nickname|gender|date|os_amount|note
   ```

4. `config.txt`

   ```text
   SHUTTLE_PRICE=<int>
   COURT_FEE_PER_PERSON=<int>
   ```

---

## 5. Flowchart ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö (Mermaid)

> ‡πÇ‡∏ü‡∏•‡∏ß‡∏ô‡∏µ‡πâ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: main.c, menu1.c, menu2.c, menu2_impl.c, menu3.c  
> ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° high-level ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

```mermaid
flowchart LR
  Start(["Start Program"]) --> Main(["Main Menu (main.c)"])

  Main -->|"1 ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å"| M1(["menu1_choose()"])
  Main -->|"2 ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡πä‡∏ß‡∏ô"| M2(["menu2_choose()"])
  Main -->|"3 ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"| M3(["menu3_choose()"])
  Main -->|"0 ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°"| End(["End Program"])

  %% MEMBER MODULE
  subgraph S1["‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (menu1.c)"]
    M1 --> S1L(["‡∏ß‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å"])
    S1L -->|"1 ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô"| S1R["register_member(): ‡∏≠‡πà‡∏≤‡∏ô last id, ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô member.txt"]
    S1L -->|"2 ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"| S1F["search_member(): ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤, ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•, 0 = ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö"]
    S1L -->|"3 ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"| S1A["show_all_members(): ‡∏≠‡πà‡∏≤‡∏ô member.txt ‡∏ó‡∏±‡πâ‡∏á‡πÑ‡∏ü‡∏•‡πå, ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á"]
    S1L -->|"0 ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö"| Main
  end

  %% DAILY MODULE
  subgraph S2["‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡πä‡∏ß‡∏ô / ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô (menu2.c + menu2_impl.c)"]
    M2 --> D0(["‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (DD-MM-YYYY) ‡∏´‡∏£‡∏∑‡∏≠ 0 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö"])
    D0 -->|"0"| Main
    D0 --> D1["open_or_create_daily(<DATE>.txt) + load_prices(config.txt)"]
    D1 --> DMenu(["‡∏ß‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô"])

    DMenu -->|"1 ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ö‡∏¥‡∏Å‡∏•‡∏π‡∏Å"| D11["search_members() ‡∏´‡∏≤ member ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ô ‚Üí upsert_daily_entry() ‡πÄ‡∏û‡∏¥‡πà‡∏° shuttle_qty"]
    DMenu -->|"2 ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô"| D12["search_daily() ‚Üí ‡πÅ‡∏™‡∏î‡∏á‡∏¢‡∏≠‡∏î‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏à‡πà‡∏≤‡∏¢ ‚Üí upsert_daily_entry()/append_os()"]
    DMenu -->|"3 ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á"| D13["search_os() ‡∏à‡∏≤‡∏Å OSpayment.txt ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚Üí remove_os_entry() ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß"]
    DMenu -->|"4 ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ö‡∏ô‡∏à‡∏≠"| D14["summarize_daily(<DATE>.txt, verbose=1)"]
    DMenu -->|"5 ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏•‡∏π‡∏Å‡πÅ‡∏ö‡∏î"| D15["‡πÅ‡∏Å‡πâ prices.shuttle_price ‚Üí save_prices(config.txt)"]
    DMenu -->|"6 ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô"| D16["‡πÅ‡∏Å‡πâ prices.court_fee_per_person ‚Üí save_prices(config.txt)"]
    DMenu -->|"0 ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö"| Main
  end

  %% REPORT MODULE
  subgraph S3["‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (menu3.c)"]
    M3 --> RMenu(["‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1=‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô, 2=‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô, 0=‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö"])

    RMenu -->|"1 ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô"| R1(["‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô"])
    R1 -->|"1 ‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠"| R11["‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡πâ‡∏ß print_file(), ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡πá summarize_daily(), summarize_daily_and_write(full=1), ‡πÅ‡∏•‡πâ‡∏ß print_file()"]
    R1 -->|"2 ‡πÅ‡∏ö‡∏ö‡∏¢‡πà‡∏≠"| R12["‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡πâ‡∏ß print_file(), ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡πá summarize_daily(), summarize_daily_and_write(full=0), ‡πÅ‡∏•‡πâ‡∏ß print_file()"]

    RMenu -->|"2 ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô"| R2["‡∏£‡∏±‡∏ö MM-YYYY ‚Üí ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß print_file(), ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡πá summarize_month_and_write() ‡πÅ‡∏•‡πâ‡∏ß print_file()"]
    RMenu -->|"0 ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö"| Main
  end
```

---

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß  
‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏†‡∏π‡∏†‡∏π‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏° (‡πÄ‡∏ä‡πà‡∏ô ‡∏¢‡πâ‡∏≤‡∏¢ `summarize_daily_and_write()` ‡πÑ‡∏õ‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà)  
‡∏ö‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏à‡∏≤‡∏£‡πå‡∏ß‡∏¥‡∏™‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ üòÑ
